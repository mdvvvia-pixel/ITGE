# Правила коммитов для проекта

## Формат коммитов

Используйте следующий формат для коммитов:

```
[<date_time>] <type>(<scope>): <subject>

<body>

<footer>
```

### Дата и время (обязательно)

**ВАЖНО:** Каждый коммит должен начинаться с системной даты и времени в квадратных скобках.

- **Формат:** `[YYYY-MM-DD HH:MM:SS]`
- **Получение:** Используйте команду `date "+%Y-%m-%d %H:%M:%S"` для получения текущей даты и времени
- **Пример:** `[2026-01-09 21:48:27]`

**Правило:** Перед созданием коммита обязательно получите текущую системную дату и время и добавьте её в начало сообщения коммита. Не используйте плейсхолдеры или примеры дат - только реальную текущую дату и время.

### Типы коммитов (type)

- **feat**: Новая функциональность
- **fix**: Исправление ошибки
- **docs**: Изменения в документации
- **style**: Форматирование кода (не влияет на функциональность)
- **refactor**: Рефакторинг кода
- **test**: Добавление или изменение тестов
- **chore**: Обновление задач сборки, настроек и т.д.

### Область (scope)

Указывает, какая часть проекта затронута:

- `app` - основное приложение App Designer
- `graph` - функциональность графиков
- `table` - функциональность таблицы
- `drag` - перетаскивание точек
- `data` - загрузка/сохранение данных
- `ui` - интерфейс пользователя
- `docs` - документация
- `config` - конфигурационные файлы

### Тема (subject)

- Используйте повелительное наклонение: "добавить" вместо "добавлен"
- Первая буква строчная
- Без точки в конце
- Максимум 50 символов

### Тело коммита (body)

- Объясняет **что** и **почему**, а не **как**
- Отделяется от subject пустой строкой
- Каждая строка максимум 72 символа
- Можно использовать маркированные списки

### Подвал (footer)

- Ссылки на задачи: `Closes #123`, `Refs #456`
- Breaking changes: `BREAKING CHANGE: описание`

## Примеры коммитов

### Простой коммит
```
[2026-01-09 21:48:27] feat(app): добавлена загрузка переменных из workspace
```

### Коммит с телом
```
[2026-01-09 21:48:27] fix(graph): исправлена синхронизация таблицы и графика

При перетаскивании точки на графике таблица не обновлялась.
Теперь изменения применяются немедленно через callback.
```

### Коммит с несколькими изменениями
```
[2026-01-09 21:48:27] refactor(drag): оптимизирован алгоритм перетаскивания точек

- Улучшена производительность поиска ближайшей точки
- Добавлено кэширование индексов точек
- Уменьшено количество обновлений графика
```

### Коммит с breaking change
```
[2026-01-09 21:48:27] feat(data): изменен формат сохранения зависимых столбцов

BREAKING CHANGE: Формулы зависимых столбцов теперь хранятся
в отдельной структуре app.DependentFormulas вместо массива.
Необходимо обновить существующие проекты.
```

## Правила

1. **Один коммит = одно логическое изменение**
2. **Коммитьте часто, небольшими порциями**
3. **Пишите понятные сообщения на русском языке**
4. **Используйте шаблон коммита** (настроен через `git config commit.template`)

## Настройка

Шаблон коммита уже настроен в репозитории. При выполнении `git commit` без флага `-m` откроется редактор с шаблоном.

Для использования шаблона вручную:
```bash
git commit -t .gitmessage
```

