# Автоматизированная настройка проекта

**Date:** 2026-01-08  
**Purpose:** Инструкции по использованию автоматизированных скриптов для создания структуры приложения

---

## Доступные скрипты

### 1. `create_app_structure.m`

**Назначение:** Создает базовую структуру приложения и вспомогательные файлы.

**Использование:**
```matlab
cd('TableGraphEditor/src')
create_app_structure
```

**Что делает:**
- Проверяет наличие `TableGraphEditor.mlapp`
- Создает базовый класс `TableGraphEditorBase.m` (шаблон)
- Создает файл констант `helpers/constants.m`
- Создает файл утилит `helpers/utilities.m`
- Предлагает открыть существующий .mlapp файл в App Designer

**Результат:**
```
✓ Создан базовый класс приложения
  Файл: TableGraphEditorBase.m
✓ constants.m
✓ utilities.m
```

### 2. `auto_create_app.m`

**Назначение:** Экспериментальная попытка автоматического создания .mlapp файла.

**Использование:**
```matlab
cd('TableGraphEditor/src')
auto_create_app
```

**Примечание:** 
- .mlapp файлы имеют сложную внутреннюю структуру (ZIP архив с XML)
- Полностью автоматическое создание может быть невозможно
- Скрипт предоставляет рекомендации по ручному созданию

---

## Рекомендуемый процесс

### Вариант 1: Полностью автоматизированный (частично)

1. **Запустите скрипт создания структуры:**
   ```matlab
   cd('TableGraphEditor/src')
   create_app_structure
   ```

2. **Создайте .mlapp файл вручную:**
   - Откройте MATLAB
   - Выполните: `appdesigner`
   - File → New → App (Blank App)
   - Сохраните как: `TableGraphEditor.mlapp`

3. **Используйте созданные файлы как справочник:**
   - `TableGraphEditorBase.m` - структура класса
   - `APP_STRUCTURE_TEMPLATE.md` - детальная структура
   - `SETUP_INSTRUCTIONS.md` - пошаговые инструкции

### Вариант 2: Использование базового класса

Если создание .mlapp файла затруднено, можно использовать `TableGraphEditorBase.m` как основу для создания приложения через класс MATLAB.

**Ограничения:**
- Не будет GUI App Designer
- Потребуется ручное создание UI компонентов
- Меньше удобства разработки

---

## Созданные файлы

После выполнения `create_app_structure.m`:

```
src/
├── TableGraphEditorBase.m    [NEW] - Базовый класс (шаблон)
├── create_app_structure.m     [NEW] - Скрипт создания структуры
├── auto_create_app.m          [NEW] - Экспериментальный скрипт
└── helpers/
    ├── constants.m            [NEW] - Константы приложения
    └── utilities.m            [NEW] - Вспомогательные функции
```

---

## Ограничения автоматизации

### Почему .mlapp нельзя создать полностью программно?

1. **Бинарный формат:** .mlapp файлы - это ZIP архивы с:
   - XML метаданными
   - Сериализованными UI компонентами
   - Кодом приложения
   - Настройками layout

2. **Требует GUI:** App Designer использует визуальный редактор для:
   - Размещения компонентов
   - Настройки свойств через Property Inspector
   - Создания связей между компонентами

3. **Внутренний формат:** Структура .mlapp файла не полностью документирована и может изменяться между версиями MATLAB

### Что можно автоматизировать?

✅ Создание структуры папок  
✅ Создание шаблонов кода  
✅ Создание вспомогательных файлов  
✅ Генерация базовых классов  
✅ Проверка структуры проекта  

❌ Создание .mlapp файла напрямую  
❌ Настройка UI компонентов через код  
❌ Создание layout программно  

---

## Альтернативные подходы

### Подход 1: Использование MATLAB Compiler

Если доступен MATLAB Compiler, можно создать standalone приложение из .m файлов, но это не заменит App Designer.

### Подход 2: Программное создание UI через figure

Можно создать UI программно используя `uifigure`, `uitable`, `uiaxes` и т.д., но это потребует больше кода и не будет использовать преимущества App Designer.

### Подход 3: Шаблоны и кодогенерация

Можно создать систему шаблонов, которая генерирует код для App Designer, но все равно потребуется ручное создание .mlapp файла.

---

## Рекомендации

1. **Используйте `create_app_structure.m`** для создания базовой структуры
2. **Создайте .mlapp файл вручную** через App Designer GUI
3. **Используйте созданные шаблоны** как справочник при разработке
4. **Следуйте `SETUP_INSTRUCTIONS.md`** для пошаговых инструкций
5. **Используйте `APP_STRUCTURE_TEMPLATE.md`** как детальный справочник

---

## Troubleshooting

### Проблема: Скрипт не находит MATLAB
**Решение:** Убедитесь, что MATLAB установлен и доступен в PATH:
```bash
which matlab
```

### Проблема: Ошибки при выполнении скрипта
**Решение:** Проверьте, что вы находитесь в правильной директории:
```matlab
cd('TableGraphEditor/src')
pwd  % Должен показать путь к src/
```

### Проблема: .mlapp файл не создается автоматически
**Решение:** Это ожидаемое поведение. Создайте файл вручную через App Designer GUI.

---

## Следующие шаги

После создания структуры:

1. ✅ Структура создана (через `create_app_structure.m`)
2. ⏳ Создайте .mlapp файл в App Designer
3. ⏳ Добавьте UI компоненты (см. `SETUP_INSTRUCTIONS.md`)
4. ⏳ Настройте Properties и Methods (см. `APP_STRUCTURE_TEMPLATE.md`)
5. ⏳ Переходите к следующей задаче: `task_20260106_data_loading.md`

---

**Примечание:** Автоматизация создания .mlapp файлов ограничена из-за природы формата. Однако все вспомогательные файлы, шаблоны и инструкции подготовлены для максимально быстрого создания приложения вручную.

