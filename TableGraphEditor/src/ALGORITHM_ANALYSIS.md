# –ê–Ω–∞–ª–∏–∑ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∑–∞—Ö–≤–∞—Ç–∞ —Ç–æ—á–µ–∫ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ

**Date:** 2026-01-09  
**Status:** üîç Analysis  
**Problem:** –ù–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∑–∞—Ü–µ–ø–∏—Ç—å –º–∞—Ä–∫–µ—Ä –ø—Ä–∏ –∫–ª–∏–∫–µ –ø—Ä—è–º–æ –Ω–∞ –Ω–µ–º

---

## –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞—Ö–≤–∞—Ç–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–ª–∏–∫–∞ (`axPlotButtonDown`)

```matlab
cp = app.axPlot.CurrentPoint;
clickPos = cp(1, 1:2);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `CurrentPoint` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É 2√ó3 —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –¥–≤—É—Ö —Ç–æ—á–µ–∫ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª—É—á–∞ –º—ã—à–∏ —Å –ø–ª–æ—Å–∫–æ—Å—Ç—è–º–∏ axes
- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ `cp(1, :)` - —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å –ø–µ—Ä–µ–¥–Ω–µ–π –ø–ª–æ—Å–∫–æ—Å—Ç—å—é axes
- –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ –¥–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã `cp(1, 1:2)` - —ç—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ –¥–∞–Ω–Ω—ã—Ö (X, Y)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `CurrentPoint` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª—É—á–∞ –º—ã—à–∏ —Å –ø–ª–æ—Å–∫–æ—Å—Ç—å—é axes
- –≠—Ç–æ –ù–ï –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ `CurrentPoint` –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Ç–æ—á–∫—É —Ä—è–¥–æ–º —Å –º–∞—Ä–∫–µ—Ä–æ–º, –Ω–æ –Ω–µ –Ω–∞ —Å–∞–º –º–∞—Ä–∫–µ—Ä

---

### –®–∞–≥ 2: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (`findClosestPoint`)

```matlab
% –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä axes –≤ –ø–∏–∫—Å–µ–ª—è—Ö
axPos = getpixelposition(app.axPlot);
axWidthPx = axPos(3);
axHeightPx = axPos(4);

% –†–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
markerSizePx = 6;

% –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
markerSizeX = (markerSizePx * 5.0 / axWidthPx) * xRange;
markerSizeY = (markerSizePx * 5.0 / axHeightPx) * yRange;
markerSizeData = max(markerSizeX, markerSizeY);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä axes –≤ –ø–∏–∫—Å–µ–ª—è—Ö
2. –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
   ```
   markerSizeData = (markerSizePx * factor / axSizePx) * dataRange
   ```
3. –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∞–∫—Å–∏–º—É–º –∏–∑ X –∏ Y —Ä–∞–∑–º–µ—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–æ—Ä–º—É–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –ª–∏–Ω–µ–π–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ—Å–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –º–∞—Å—à—Ç–∞–±
- –ü—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö –æ—Å–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, X: 0-100, Y: 0-1) —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Ä–∞–∑–Ω—ã–º –¥–ª—è X –∏ Y
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `max(markerSizeX, markerSizeY)` –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π –ø–æ—Ä–æ–≥

---

### –®–∞–≥ 3: –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–π —Ç–æ—á–∫–∏

```matlab
for curveIdx = 1:length(children)
    line = children(curveIdx);
    xData = line.XData;
    yData = line.YData;
    
    for pointIdx = 1:length(xData)
        point = [xData(pointIdx), yData(pointIdx)];
        distance = norm(clickPosition(1:2) - point);
        
        if distance < minDistance
            minDistance = distance;
            bestCurveIdx = curveIdx;
            bestPointIdx = pointIdx;
        end
    end
end

% –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–∞
if minDistance > distanceThreshold
    pointIndex = [];  % –¢–æ—á–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
end
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –∫—Ä–∏–≤—ã–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
2. –î–ª—è –∫–∞–∂–¥–æ–π –∫—Ä–∏–≤–æ–π –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ç–æ—á–∫–∏
3. –í—ã—á–∏—Å–ª—è–µ–º –µ–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö: `norm(clickPos - point)`
4. –ù–∞—Ö–æ–¥–∏–º –±–ª–∏–∂–∞–π—à—É—é —Ç–æ—á–∫—É
5. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–æ —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–º–µ—Ä—É –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö –æ—Å–µ–π –µ–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–∫–∞–∂–µ–Ω–æ
- –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ X: 0-100, Y: 0-1, —Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ 1 –µ–¥–∏–Ω–∏—Ü—É –ø–æ X —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ 100 –µ–¥–∏–Ω–∏—Ü–∞–º –ø–æ Y

---

## –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:**
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞: –≤ —Å–∏—Å—Ç–µ–º–µ –¥–∞–Ω–Ω—ã—Ö (—á–µ—Ä–µ–∑ `CurrentPoint`)
- –†–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –∏–∑ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö

**–ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. `CurrentPoint` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–º –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ
2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞ –∏–∑ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö –æ—Å–µ–π
3. –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞

**–§–æ—Ä–º—É–ª–∞:**
```matlab
markerSizeX = (markerSizePx * 5.0 / axWidthPx) * xRange;
```

**–ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç:**
- –ë–µ—Ä–µ—Ç —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö (6 px)
- –£–º–Ω–æ–∂–∞–µ—Ç –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (5.0)
- –î–µ–ª–∏—Ç –Ω–∞ —à–∏—Ä–∏–Ω—É axes –≤ –ø–∏–∫—Å–µ–ª—è—Ö
- –£–º–Ω–æ–∂–∞–µ—Ç –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö –ø–æ X

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –≤–µ—Å—å –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö `xRange` –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É axes
- –ù–æ —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ç–∞–∫ –∏–∑-–∑–∞ –æ—Ç—Å—Ç—É–ø–æ–≤ (margins) –∏ padding
- –†–µ–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å axes

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–∞ –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

```matlab
markerSizeData = max(markerSizeX, markerSizeY);
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–∞ –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –ø–æ—Ä–æ–≥ –¥–ª—è –æ–¥–Ω–æ–π –æ—Å–∏
- –ù–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π –¥–ª—è –¥—Ä—É–≥–æ–π –æ—Å–∏
- –ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –æ–±–µ –æ—Å–∏ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è

---

## –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö

–í–º–µ—Å—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –Ω—É–∂–Ω–æ:
1. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∏–∫—Å–µ–ª–∏
3. –í—ã—á–∏—Å–ª–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
4. –°—Ä–∞–≤–Ω–∏—Ç—å —Å —Ä–∞–∑–º–µ—Ä–æ–º –º–∞—Ä–∫–µ—Ä–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö

### –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤—Å–µ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (0-1) –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ axes:
1. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞
2. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–µ–∫
3. –í—ã—á–∏—Å–ª–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
4. –°—Ä–∞–≤–Ω–∏—Ç—å —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –º–∞—Ä–∫–µ—Ä–∞

### –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `data2pix` –∏ `pix2data`

MATLAB –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
- `data2pix` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∏–∫—Å–µ–ª–∏
- `pix2data` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ê–ª–≥–æ—Ä–∏—Ç–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∏–∫—Å–µ–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö**
```matlab
% –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –º—ã—à–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ figure
mousePos = app.UIFigure.CurrentPoint;  % [x, y] –≤ –ø–∏–∫—Å–µ–ª—è—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ figure

% –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é axes –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ figure
axPos = getpixelposition(app.axPlot, true);  % [x, y, width, height] –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ figure

% –í—ã—á–∏—Å–ª–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ axes
mousePosAx = mousePos - axPos(1:2);  % [x, y] –≤ –ø–∏–∫—Å–µ–ª—è—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ axes
```

**–®–∞–≥ 2: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∏–∫—Å–µ–ª–∏**
```matlab
% –î–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
pointData = [xData(pointIdx), yData(pointIdx)];  % –í –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö

% –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ø–∏–∫—Å–µ–ª–∏
pointPix = data2pix(app.axPlot, pointData);  % [x, y] –≤ –ø–∏–∫—Å–µ–ª—è—Ö
```

**–®–∞–≥ 3: –í—ã—á–∏—Å–ª–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∏–∫—Å–µ–ª—è—Ö**
```matlab
distancePix = norm(mousePosAx - pointPix);
```

**–®–∞–≥ 4: –°—Ä–∞–≤–Ω–∏—Ç—å —Å —Ä–∞–∑–º–µ—Ä–æ–º –º–∞—Ä–∫–µ—Ä–∞**
```matlab
markerSizePx = 6;
thresholdPx = markerSizePx * 2.5;  % –û–±–ª–∞—Å—Ç—å –∑–∞—Ö–≤–∞—Ç–∞ –≤ 2.5 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –º–∞—Ä–∫–µ—Ä–∞

if distancePix < thresholdPix
    % –¢–æ—á–∫–∞ –Ω–∞–π–¥–µ–Ω–∞
end
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HitTest

MATLAB –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å HitTest –¥–ª—è –ª–∏–Ω–∏–π, —á—Ç–æ–±—ã –æ–Ω–∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –∫–ª–∏–∫–∏ –ø–æ –º–∞—Ä–∫–µ—Ä–∞–º:

```matlab
% –ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∏–∫–∞:
line = plot(app.axPlot, xData, yData, '-o', ...);
line.HitTest = 'on';
line.PickableParts = 'all';  % –í–∫–ª—é—á–∞—è –º–∞—Ä–∫–µ—Ä—ã
line.ButtonDownFcn = @(src,event) handleMarkerClick(app, src, event, pointIdx);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- MATLAB –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∏–∫ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ
- –ù–µ –Ω—É–∂–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã —Ç–æ—á–µ–∫ –≤ UserData –ª–∏–Ω–∏–π

---

## –í—ã–≤–æ–¥—ã

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ‚ùå `CurrentPoint` –Ω–µ—Ç–æ—á–µ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ
2. ‚ùå –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞ –∏–∑ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. ‚ùå –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞
4. ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –º–∞—Å—à—Ç–∞–±—ã –æ—Å–µ–π

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
2. ‚úÖ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∏–∫—Å–µ–ª–∏
3. ‚úÖ –í—ã—á–∏—Å–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
4. ‚úÖ –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å —Ä–∞–∑–º–µ—Ä–æ–º –º–∞—Ä–∫–µ—Ä–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `HitTest` –∏ `ButtonDownFcn` –Ω–∞ –ª–∏–Ω–∏—è—Ö –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∏–∫–∞ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∏–∫—Å–µ–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏–ª–∏ HitTest

---

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

### –ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º (2026-01-09)

**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (0-1) –¥–ª—è —É—á–µ—Ç–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–æ–≤ –æ—Å–µ–π.

**–®–∞–≥ 1: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–ª–∏–∫–∞**
```matlab
xLim = app.axPlot.XLim;
yLim = app.axPlot.YLim;
xRangeNorm = xLim(2) - xLim(1);
yRangeNorm = yLim(2) - yLim(1);

clickNorm = [
    (clickPosition(1) - xLim(1)) / xRangeNorm,
    (clickPosition(2) - yLim(1)) / yRangeNorm
];
```

**–®–∞–≥ 2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–µ–∫**
```matlab
pointNorm = [
    (point(1) - xLim(1)) / xRangeNorm,
    (point(2) - yLim(1)) / yRangeNorm
];
```

**–®–∞–≥ 3: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö**
```matlab
distanceNorm = norm(clickNorm - pointNorm);
```

**–®–∞–≥ 4: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö**
```matlab
% –†–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
markerSizeNormX = markerSizePx / axWidthPx;
markerSizeNormY = markerSizePx / axHeightPx;
markerSizeNorm = max(markerSizeNormX, markerSizeNormY);

% –ü–æ—Ä–æ–≥ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
distanceThresholdNorm = max(0.05 * sqrt(2), markerSizeNorm * 5.0);
```

**–®–∞–≥ 5: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ**
```matlab
if distanceNorm < distanceThresholdNorm
    % –¢–æ—á–∫–∞ –Ω–∞–π–¥–µ–Ω–∞
end
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
1. ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –º–∞—Å—à—Ç–∞–±—ã –æ—Å–µ–π (X –∏ Y –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã)
2. ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (0-1) –¥–µ–ª–∞—é—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–º
3. ‚úÖ –†–∞–∑–º–µ—Ä –º–∞—Ä–∫–µ—Ä–∞ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É
4. ‚úÖ –ü–æ—Ä–æ–≥ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –∞ –Ω–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –ó–∞—Ö–≤–∞—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –ø—Ä—è–º–æ –Ω–∞ –º–∞—Ä–∫–µ—Ä–µ
- –û–±–ª–∞—Å—Ç—å –∑–∞—Ö–≤–∞—Ç–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –º–∞—Å—à—Ç–∞–±—É –≥—Ä–∞—Ñ–∏–∫–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å –ª—é–±—ã–º–∏ –º–∞—Å—à—Ç–∞–±–∞–º–∏ –æ—Å–µ–π

